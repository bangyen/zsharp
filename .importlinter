[importlinter]
root_package = src

[importlinter:contract:layers]
name = Layered architecture
type = layers
layers =
    src.experiments
    src.train | src.eval
    src.models | src.optimizer | src.data
    src.utils
    src.constants

[importlinter:contract:forbidden-imports]
name = No external orchestration from core
type = forbidden
source_modules =
    src.models
    src.optimizer
    src.data
forbidden_modules =
    src.train
    src.eval
    src.experiments

[importlinter:contract:no-utility-loop]
name = Utilities should not depend on core
type = forbidden
source_modules =
    src.utils
    src.constants
forbidden_modules =
    src.models
    src.optimizer
    src.data
    src.train
    src.eval
    src.experiments
